!function(){var e=/\n[\s]+$/,t=/^\n[\s]+/,n=/[\s]+$/,r=/^[\s]+/,i=/[\n\s]+/g,o=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],s=["code","pre","textarea"],a=function a(h,u){if(Array.isArray(u))for(var l,c,f=h.nodeName.toLowerCase(),p=!1,d=0,m=u.length;d<m;d++){var v=u[d];if(Array.isArray(v))a(h,v);else{("number"==typeof v||"boolean"==typeof v||"function"==typeof v||v instanceof Date||v instanceof RegExp)&&(v=v.toString());var g=h.childNodes[h.childNodes.length-1];if("string"==typeof v)p=!0,g&&"#text"===g.nodeName?g.nodeValue+=v:(v=document.createTextNode(v),h.appendChild(v),g=v),d===m-1&&(p=!1,-1===o.indexOf(f)&&-1===s.indexOf(f)?""===(l=g.nodeValue.replace(t,"").replace(n,"").replace(e,"").replace(i," "))?h.removeChild(g):g.nodeValue=l:-1===s.indexOf(f)&&(c=0===d?"":" ",l=g.nodeValue.replace(t,c).replace(r," ").replace(n,"").replace(e,"").replace(i," "),g.nodeValue=l));else if(v&&v.nodeType){p&&(p=!1,-1===o.indexOf(f)&&-1===s.indexOf(f)?""===(l=g.nodeValue.replace(t,"").replace(e,"").replace(i," "))?h.removeChild(g):g.nodeValue=l:-1===s.indexOf(f)&&(l=g.nodeValue.replace(r," ").replace(t,"").replace(e,"").replace(i," "),g.nodeValue=l));var y=v.nodeName;y&&(f=y.toLowerCase()),h.appendChild(v)}}}},h={class:"className",for:"htmlFor","http-equiv":"httpEquiv"},u=1,l=2,c=3,f=4,p=5,d=6,m=7,v=8,g=9,y=10,w=11,_=12,b=13;function A(e){return e===g||e===y}Object.prototype.hasOwnProperty;var E=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9\x7f-\uffff_:-]+)*$"),N={},O="http://www.w3.org/2000/svg",L="http://www.w3.org/1999/xlink",S=["autofocus","checked","defaultchecked","disabled","formnovalidate","indeterminate","readonly","required","selected","willvalidate"],T="!--",x=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];function k(e,t,n){var r;-1!==x.indexOf(e)&&(t.namespace=O);var i=!1;if(t.namespace&&(i=t.namespace,delete t.namespace),i)r=document.createElementNS(i,e);else{if(e===T)return document.createComment(t.comment);r=document.createElement(e)}for(var o in t)if(t.hasOwnProperty(o)){var s=o.toLowerCase(),h=t[o];if("classname"===s&&(s="class",o="class"),"htmlFor"===o&&(o="for"),-1!==S.indexOf(s))if("true"===h)h=s;else if("false"===h)continue;"on"===s.slice(0,2)?r[o]=h:i?"xlink:href"===o?r.setAttributeNS(L,o,h):/^xmlns($|:)/i.test(o)||r.setAttributeNS(null,o,h):r.setAttribute(o,h)}return a(r,n),r}(N=function(e,t){t||(t={});var n=t.concat||function(e,t){return String(e)+String(t)};return!1!==t.attrToProp&&(e=function(e){return function(t,n,r){for(var i in n)i in h&&(n[h[i]]=n[i],delete n[i]);return e(t,n,r)}}(e)),function(i){for(var o=u,s="",a=arguments.length,h=[],N=0;N<i.length;N++)if(N<a-1){var O=arguments[N+1],L=j(i[N]),S=o;S===y&&(S=v),S===g&&(S=v),S===m&&(S=v),S===f&&(S=p),S===l?"/"===s?(L.push([l,"/",O]),s=""):L.push([l,O]):L.push([0,S,O]),h.push.apply(h,L)}else h.push.apply(h,j(i[N]));var T,x=[null,{},[]],k=[[x,-1]];for(N=0;N<h.length;N++){var C=k[k.length-1][0],P=(L=h[N])[0];if(P===l&&/^\//.test(L[1])){var R=k[k.length-1][1];k.length>1&&(k.pop(),k[k.length-1][0][2][R]=e(C[0],C[1],C[2].length?C[2]:void 0))}else if(P===l){var I=[L[1],{},[]];C[2].push(I),k.push([I,C[2].length-1])}else if(P===p||0===P&&L[1]===p){for(var D,M="";N<h.length;N++)if(h[N][0]===p)M=n(M,h[N][1]);else{if(0!==h[N][0]||h[N][1]!==p)break;if("object"!=typeof h[N][2]||M)M=n(M,h[N][2]);else for(D in h[N][2])h[N][2].hasOwnProperty(D)&&!C[1][D]&&(C[1][D]=h[N][2][D])}h[N][0]===w&&N++;for(var V=N;N<h.length;N++)if(h[N][0]===v||h[N][0]===p)C[1][M]?""===h[N][1]||(C[1][M]=n(C[1][M],h[N][1])):C[1][M]=r(h[N][1]);else{if(0!==h[N][0]||h[N][1]!==v&&h[N][1]!==p){!M.length||C[1][M]||N!==V||h[N][0]!==c&&h[N][0]!==_||(C[1][M]=M.toLowerCase()),h[N][0]===c&&N--;break}C[1][M]?""===h[N][2]||(C[1][M]=n(C[1][M],h[N][2])):C[1][M]=r(h[N][2])}}else if(P===p)C[1][L[1]]=!0;else if(0===P&&L[1]===p)C[1][L[2]]=!0;else if(P===c)T=C[0],E.test(T)&&k.length&&(R=k[k.length-1][1],k.pop(),k[k.length-1][0][2][R]=e(C[0],C[1],C[2].length?C[2]:void 0));else if(0===P&&L[1]===u)void 0===L[2]||null===L[2]?L[2]="":L[2]||(L[2]=n("",L[2])),Array.isArray(L[2][0])?C[2].push.apply(C[2],L[2]):C[2].push(L[2]);else if(P===u)C[2].push(L[1]);else if(P!==w&&P!==_)throw new Error("unhandled: "+P)}if(x[2].length>1&&/^\s*$/.test(x[2][0])&&x[2].shift(),x[2].length>2||2===x[2].length&&/\S/.test(x[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(x[2][0])&&"string"==typeof x[2][0][0]&&Array.isArray(x[2][0][2])&&(x[2][0]=e(x[2][0][0],x[2][0][1],x[2][0][2])),x[2][0];function j(e){var n=[];o===m&&(o=f);for(var r=0;r<e.length;r++){var i=e.charAt(r);o===u&&"<"===i?(s.length&&n.push([u,s]),s="",o=l):">"!==i||A(o)||o===b?o===b&&/-$/.test(s)&&"-"===i?(t.comments&&n.push([v,s.substr(0,s.length-1)],[c]),s="",o=u):o===l&&/^!--$/.test(s)?(t.comments&&n.push([l,s],[p,"comment"],[w]),s=i,o=b):o===u||o===b?s+=i:o===l&&"/"===i&&s.length||(o===l&&/\s/.test(i)?(s.length&&n.push([l,s]),s="",o=f):o===l?s+=i:o===f&&/[^\s"'=/]/.test(i)?(o=p,s=i):o===f&&/\s/.test(i)?(s.length&&n.push([p,s]),n.push([_])):o===p&&/\s/.test(i)?(n.push([p,s]),s="",o=d):o===p&&"="===i?(n.push([p,s],[w]),s="",o=m):o===p?s+=i:o!==d&&o!==f||"="!==i?o!==d&&o!==f||/\s/.test(i)?o===m&&'"'===i?o=y:o===m&&"'"===i?o=g:o===y&&'"'===i?(n.push([v,s],[_]),s="",o=f):o===g&&"'"===i?(n.push([v,s],[_]),s="",o=f):o!==m||/\s/.test(i)?o===v&&/\s/.test(i)?(n.push([v,s],[_]),s="",o=f):o!==v&&o!==g&&o!==y||(s+=i):(o=v,r--):(n.push([_]),/[\w-]/.test(i)?(s+=i,o=p):o=f):(n.push([w]),o=m)):(o===l&&s.length?n.push([l,s]):o===p?n.push([p,s]):o===v&&s.length&&n.push([v,s]),n.push([c]),s="",o=u)}return o===u&&s.length?(n.push([u,s]),s=""):o===v&&s.length?(n.push([v,s]),s=""):o===y&&s.length?(n.push([v,s]),s=""):o===g&&s.length?(n.push([v,s]),s=""):o===p&&(n.push([p,s]),s=""),n}};function r(e){return"function"==typeof e?e:"string"==typeof e?e:e&&"object"==typeof e?e:n("",e)}}(k,{comments:!0})).default=N,N.createElement=k;var C=N,P={};function R(e){if(!(this instanceof R))return new R(e);"number"==typeof e&&(e={max:e}),e||(e={}),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}P=R,Object.defineProperty(R.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),R.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},R.prototype.remove=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}},R.prototype._unlink=function(e,t,n){this.length--,0===this.length?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[t].next=n,this.cache[n].prev=t)},R.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}},R.prototype.set=function(e,t){var n;if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){if((n=this.cache[e]).value=t,this.maxAge&&(n.modified=Date.now()),e===this.head)return t;this._unlink(e,n.prev,n.next)}else n={value:t,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[e]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t},R.prototype._checkAge=function(e,t){return!(this.maxAge&&Date.now()-t.modified>this.maxAge&&(this.remove(e),1))},R.prototype.get=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}},R.prototype.evict=function(){this.tail&&this.remove(this.tail)};var I={};function D(e,t,n){this.cache="number"==typeof n?new P(n):n||new P(100),this.state=e,this.emit=t}function M(e){return new(e.bind.apply(e,arguments))}I=D,D.prototype.render=function(e,t){var n=this.cache.get(t);if(!n){for(var r=[],i=2,o=arguments.length;i<o;i++)r.push(arguments[i]);r.unshift(e,t,this.state,this.emit),n=M.apply(M,r),this.cache.set(t,n)}return n};var V=function(e){var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})},j="undefined"!=typeof window;function $(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}$.prototype.push=function(e){this.queue.push(e),this.schedule()},$.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()})}},$.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})};var G,q=function(){var e;return j?(window._nanoScheduler||(window._nanoScheduler=new $(!0)),e=window._nanoScheduler):e=new $,e}();F.disabled=!0;try{G=window.performance,F.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!G.mark}catch(e){}function F(e){if(F.disabled)return U;var t=(1e4*G.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function r(r){var i="end-"+t+"-"+e;G.mark(i),q.push(function(){var o=null;try{var s=e+" ["+t+"]";G.measure(s,n,i),G.clearMarks(n),G.clearMarks(i)}catch(e){o=e}r&&r(o,e)})}return G.mark(n),r.uuid=t,r}function U(e){e&&q.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var B=F,z=function(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}},H={};function W(e){if(!(this instanceof W))return new W(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}H=W,W.prototype.emit=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);var i=B(this._name+"('"+e+"')"),o=this._listeners[e];return o&&o.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,i.uuid),i(),this},W.prototype.on=W.prototype.addListener=function(e,t){return"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},W.prototype.prependListener=function(e,t){return"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},W.prototype.once=function(e,t){var n=this;return this.on(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},W.prototype.prependOnceListener=function(e,t){var n=this;return this.prependListener(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},W.prototype.removeListener=function(e,t){return"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(z(e,n,1),!0):void 0}}},W.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},W.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var r=t.length,i=0;i<r;i++)n.push(t[i]);return n},W.prototype._emit=function(e,t,n,r){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==r?[t].concat(n,r):[t].concat(n));for(var i=e.length,o=0;o<i;o++){var s=e[o];s.apply(s,n)}}};var K=/(noopener|noreferrer) (noopener|noreferrer)/,X=/^[\w-_]+:/,Z=function(){return window.location.pathname.replace(/\/$/,"")+window.location.hash.replace(/^#/,"/")},J=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"],Q=J.length;function Y(e,t,n){e[n]!==t[n]&&(t[n]=e[n],e[n]?t.setAttribute(n,""):t.removeAttribute(n))}var ee=function(e,t){var n=e.nodeType,r=e.nodeName;1===n&&function(e,t){for(var n=t.attributes,r=e.attributes,i=null,o=null,s=null,a=null,h=r.length-1;h>=0;--h)s=(a=r[h]).name,i=a.namespaceURI,o=a.value,i?(s=a.localName||s,t.getAttributeNS(i,s)!==o&&t.setAttributeNS(i,s,o)):t.hasAttribute(s)?t.getAttribute(s)!==o&&("null"===o||"undefined"===o?t.removeAttribute(s):t.setAttribute(s,o)):t.setAttribute(s,o);for(var u=n.length-1;u>=0;--u)!1!==(a=n[u]).specified&&(s=a.name,(i=a.namespaceURI)?(s=a.localName||s,e.hasAttributeNS(i,s)||t.removeAttributeNS(i,s)):e.hasAttributeNS(null,s)||t.removeAttribute(s))}(e,t),3!==n&&8!==n||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),"INPUT"===r?function(e,t){var n=e.value,r=t.value;Y(e,t,"checked"),Y(e,t,"disabled"),n!==r&&(t.setAttribute("value",n),t.value=n),"null"===n&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=n):t.removeAttribute("value")}(e,t):"OPTION"===r?function(e,t){Y(e,t,"selected")}(e,t):"TEXTAREA"===r&&function(e,t){var n=e.value;if(n!==t.value&&(t.value=n),t.firstChild&&t.firstChild.nodeValue!==n){if(""===n&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=n}}(e,t),function(e,t){for(var n=0;n<Q;n++){var r=J[n];e[r]?t[r]=e[r]:t[r]&&(t[r]=void 0)}}(e,t)},te=3;function ne(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName===t.tagName&&e.type===te&&e.nodeValue===t.nodeValue}var re=function(e,t){return function e(t,n){return n?t?t.isSameNode&&t.isSameNode(n)?n:t.tagName!==n.tagName?t:(ee(t,n),function(t,n){for(var r,i,o,s,a=0,h=0;r=n.childNodes[h],i=t.childNodes[h-a],r||i;h++)if(i)if(r)if(ne(i,r))(o=e(i,r))!==r&&(n.replaceChild(o,r),a++);else{s=null;for(var u=h;u<n.childNodes.length;u++)if(ne(n.childNodes[u],i)){s=n.childNodes[u];break}s?((o=e(i,s))!==s&&a++,n.insertBefore(o,r)):i.id||r.id?(n.insertBefore(i,r),a++):(o=e(i,r))!==r&&(n.replaceChild(o,r),a++)}else n.appendChild(i),a++;else n.removeChild(r),h--}(t,n),n):null:t}(t,e)},ie=/([^?=&]+)(=([^&]*))?/g,oe=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)se.call(n,r)&&(e[r]=n[r])}return e},se=Object.prototype.hasOwnProperty,ae=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)he.call(n,r)&&(e[r]=n[r])}return e},he=Object.prototype.hasOwnProperty,ue={};function le(){if(!(this instanceof le))return new le;this.trie={nodes:{}}}ue=le,le.prototype.create=function(e){var t=e.replace(/^\//,"").split("/");return function e(n,r){var i=t.hasOwnProperty(n)&&t[n];if(!1===i)return r;var o=null;return/^:|^\*/.test(i)?(r.nodes.hasOwnProperty("$$")?o=r.nodes.$$:(o={nodes:{}},r.nodes.$$=o),"*"===i[0]&&(r.wildcard=!0),r.name=i.replace(/^:|^\*/,"")):r.nodes.hasOwnProperty(i)?o=r.nodes[i]:(o={nodes:{}},r.nodes[i]=o),e(n+1,o)}(0,this.trie)},le.prototype.match=function(e){var t=e.replace(/^\//,"").split("/"),n={},r=function e(r,i){if(void 0!==i){var o=t[r];if(void 0===o)return i;if(i.nodes.hasOwnProperty(o))return e(r+1,i.nodes[o]);if(i.name){try{n[i.name]=decodeURIComponent(o)}catch(t){return e(r,void 0)}return e(r+1,i.nodes.$$)}if(i.wildcard){try{n.wildcard=decodeURIComponent(t.slice(r).join("/"))}catch(t){return e(r,void 0)}return i.nodes.$$}return e(r+1)}}(0,this.trie);if(r)return(r=oe(r)).params=n,r},le.prototype.mount=function(e,t){var n=e.replace(/^\//,"").split("/"),r=null,i=null;if(1===n.length)i=n[0],r=this.create(i);else{var o=n.join("/");i=n[0],r=this.create(o)}ae(r.nodes,t.nodes),t.name&&(r.name=t.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),ae(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)};var ce=function e(t){if(!(this instanceof e))return new e(t);var n=(t||"").replace(/^\//,""),r=ue();return i._trie=r,i.on=function(e,t){var n=t._wayfarer&&t._trie?t:function(){return t.apply(this,Array.prototype.slice.call(arguments))};(e=e||"/",n.route=e,n._wayfarer&&n._trie)?r.mount(e,n._trie.trie):r.create(e).cb=n;return i},i.emit=i,i.match=o,i._wayfarer=!0,i;function i(e){var t=o(e),n=new Array(arguments.length);n[0]=t.params;for(var r=1;r<n.length;r++)n[r]=arguments[r];return t.cb.apply(t.cb,n)}function o(e){var t=r.match(e);if(t&&t.cb)return new s(t);var i=r.match(n);if(i&&i.cb)return new s(i);throw new Error("route '"+e+"' did not match")}function s(e){this.cb=e.cb,this.route=e.cb.route,this.params=e.params}},fe={},pe=/file:\/\//.test("object"==typeof window&&window.location&&window.location.origin),de=new RegExp("^(file://|/)(.*.html?/?)?"),me=new RegExp("^(http(s)?(://))?(www.)?[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?"),ve=new RegExp("#"),ge=new RegExp("[?].*$");function ye(e){if(!(this instanceof ye))return new ye(e);e=e||{},this.router=ce(e.default||"/404")}function we(e,t){return e=t?e.replace(de,""):e.replace(me,""),decodeURI(e.replace(ge,"").replace(ve,"/"))}fe=ye,ye.prototype.on=function(e,t){e=e.replace(/^[#/]/,""),this.router.on(e,t)},ye.prototype.emit=function(e){return e=we(e,pe),this.router.emit(e)},ye.prototype.match=function(e){return e=we(e,pe),this.router.match(e)};var _e=Ae,be={};function Ae(e){if(!(this instanceof Ae))return new Ae(e);e=e||{};var t=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"},this._historyEnabled=void 0===e.history||e.history,this._hrefEnabled=void 0===e.href||e.href,this._hasWindow="undefined"!=typeof window,this._createLocation=Z,this._cache=e.cache,this._loaded=!1,this._stores=[],this._tree=null;var n={events:this._events,components:{}};this._hasWindow?(this.state=window.initialState?oe(window.initialState,n):n,delete window.initialState):this.state=n,this.router=fe({curry:!0}),this.emitter=H("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter),this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(e){t.state.title=e,t._hasWindow&&(document.title=e)})}Ae.prototype.route=function(e,t){this.router.on(e,t)},Ae.prototype.use=function(e){var t=this;this._stores.push(function(n){var r="choo.use";r=e.storeName?r+"("+e.storeName+")":r;var i=B(r);e(n,t.emitter,t),i()})},Ae.prototype.start=function(){var e,t,n=this;return this._historyEnabled&&(this.emitter.prependListener(this._events.NAVIGATE,function(){n._matchRoute(),n._loaded&&(n.emitter.emit(n._events.RENDER),setTimeout(function(e,t){if(e)try{var n=document.querySelector(e);n&&n.scrollIntoView(t)}catch(e){}}.bind(null,window.location.hash),0))}),this.emitter.prependListener(this._events.POPSTATE,function(){n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.PUSHSTATE,function(e){window.history.pushState(be,null,e),n.emitter.emit(n._events.NAVIGATE)}),this.emitter.prependListener(this._events.REPLACESTATE,function(e){window.history.replaceState(be,null,e),n.emitter.emit(n._events.NAVIGATE)}),window.onpopstate=function(){n.emitter.emit(n._events.POPSTATE)},n._hrefEnabled&&(e=function(e){var t=e.href;t!==window.location.href&&n.emitter.emit(n._events.PUSHSTATE,t)},t=t||window.document,window.addEventListener("click",function(n){if(!(n.button&&0!==n.button||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey||n.defaultPrevented)){var r=function e(n){if(n&&n!==t)return"a"!==n.localName||void 0===n.href?e(n.parentNode):n}(n.target);r&&(window.location.origin!==r.origin||r.hasAttribute("download")||"_blank"===r.getAttribute("target")&&K.test(r.getAttribute("rel"))||X.test(r.getAttribute("href"))||(n.preventDefault(),e(r)))}}))),this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(),this._tree=this._prerender(this.state),this.emitter.prependListener(n._events.RENDER,function(e,t){t||(t=window.requestAnimationFrame);var n=!1,r=null;return function(){null!==r||n||(n=!0,t(function(){n=!1;for(var t=r.length,i=new Array(t),o=0;o<t;o++)i[o]=r[o];e.apply(e,i),r=null})),r=arguments}}(function(){var e=B("choo.render"),t=n._prerender(n.state),r=B("choo.morph");re(n._tree,t),r(),e()})),V(function(){n.emitter.emit(n._events.DOMCONTENTLOADED),n._loaded=!0}),this._tree},Ae.prototype.mount=function(e){if("object"!=typeof window)return this.selector=e,this;var t=this;V(function(){var n=B("choo.render"),r=t.start();t._tree="string"==typeof e?document.querySelector(e):e;var i=B("choo.morph");re(t._tree,r),i(),n()})},Ae.prototype.toString=function(e,t){this.state=oe(this.state,t||{});var n=this;this._setCache(this.state),this._stores.forEach(function(e){e(n.state)}),this._matchRoute(e);var r=this._prerender(this.state);return"string"==typeof r.outerHTML?r.outerHTML:r.toString()},Ae.prototype._matchRoute=function(e){var t,n;e?(t=e.replace(/\?.+$/,""),n=e):(t=this._createLocation(),n=window.location.search);var r,i=this.router.match(t);return this._handler=i.cb,this.state.href=t,this.state.query=(r={},n.replace(/^.*\?/,"").replace(ie,function(e,t,n,i){r[decodeURIComponent(t)]=decodeURIComponent(i)}),r),this.state.route=i.route,this.state.params=i.params,this.state},Ae.prototype._prerender=function(e){var t=B("choo.prerender('"+e.route+"')"),n=this._handler(e,this.emit);return t(),n},Ae.prototype._setCache=function(e){var t=new I(e,this.emitter.emit.bind(this.emitter),this._cache);function n(e,n){for(var r=[],i=0,o=arguments.length;i<o;i++)r.push(arguments[i]);return t.render.apply(t,r)}e.cache=n,n.toJSON=function(){return null}};var Ee,Ne,Oe,Le,Se=(Ee=["\n  <div>\n  <h1>Oh hey</h1>\n  </div>\n  "],Ne=["\n  <div>\n  <h1>Oh hey</h1>\n  </div>\n  "],Object.freeze(Object.defineProperties(Ee,{raw:{value:Object.freeze(Ne)}}))),Te=(Oe=["\n  <div>\n  <h1>Sup</h1>\n  </div>\n  "],Le=["\n  <div>\n  <h1>Sup</h1>\n  </div>\n  "],Object.freeze(Object.defineProperties(Oe,{raw:{value:Object.freeze(Le)}}))),xe=function(){return C(Te)},ke=_e();ke.route("/",xe),ke.route("/awesome",function(){return C(Se)}),ke.mount("div")}();